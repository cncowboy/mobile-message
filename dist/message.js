!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.message=t():e.message=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(o[n])return o[n].exports;var l=o[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,t),l.l=!0,l.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=0)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=o(1),s=function(e){return e&&e.__esModule?e:{default:e}}(l);t.default=function(){var e=null,t=null,o=null,l={initCallback:null,autoHide:!0,isShowMask:!1,icon:"",delay:0,className:null,contents:null,title:null,height:null,buttons:[]},r=function(e){if(e&&"function"==typeof e){for(var n=[],l=1,s=arguments.length;l<s;l++)n.push(arguments[l]);if(n.push(t.$refs.body),!1===e.apply(null,n))return}t.destroy(),t.$el.parentNode.removeChild(t.$el),t&&(t=null),o&&(clearTimeout(o),o=null)},a=function(o){return t=new e({el:document.createElement("div"),data:o}),t.onClose=r,t},i=function(e){var n=Object.assign({},l,e);if(t){t.reset();for(var s in n)t.hasOwnProperty(s)&&(t[s]=n[s])}else t=a(n),document.body.appendChild(t.$el);return t.init(),o&&(clearTimeout(o),o=null),"number"==typeof n.delay&&n.delay>100&&(o=setTimeout(function(){return r(n.onEscape)},n.delay)),t},c=function(e,t,o,l){var s={};return"object"===(void 0===e?"undefined":n(e))?s=Object.assign({},e):"string"==typeof e&&(s.contents=e),"number"==typeof o?s.delay=o:"object"===(void 0===o?"undefined":n(o))&&(s=Object.assign(s,o)),s.className||(s.className=l),s.scrollerData=!0,s.icon||(s.icon="message-icon-"+l),t&&(s.onEscape=t),s},u=function e(t){return"string"==typeof t?e.info(t):t.type&&e[t.type]?e[t.type](t):"object"===(void 0===t?"undefined":n(t))?i(t):void 0};return Object.assign(u,{success:function(e,t,o){var n=c(e||"成功了!",t,o,"success");return n.delay||(n.delay=2e3),i(n)},info:function(e,t,o){var n=c(e,t,o,"info");return n.delay||(n.delay=2e3),i(n)},warning:function(e,t,o){var n=c(e,t,o,"warning");return n.delay||(n.delay=2e3),i(n)},error:function(e,t,o){var n=c(e||"出错了!",t,o,"error");return n.delay||(n.delay=3e4),i(n)},alert:function(e,t,o,l){var s={title:o||"提示",className:"alert",autoHide:!1,isShowMask:!0,scrollerData:!0,buttons:[{className:"alert",label:l||"确认",callback:t}]};return"object"===(void 0===e?"undefined":n(e))?s=Object.assign(s,e):"string"==typeof e&&(s.contents=e),i(s)},confirm:function(e,t,o,l){var s={title:l||"提示",className:"confirm",contents:e,isShowMask:!0,autoHide:!1,scrollerData:!0,buttons:[{className:"cancel",label:"取消",callback:function(e){t(!1,e)}},{className:"ok",label:"确认",callback:function(e){t(!0,e)}}]};return"object"===(void 0===e?"undefined":n(e))?s=Object.assign(s,e):"string"==typeof e&&(s.contents=e),o&&(s.buttons=o),i(s)},prompt:function(e,t,o){var l={title:e||"提示",className:"prompt",contents:"<input class='input-text' autocomplete='off' type='text' placeholder='请输入内容' />",isShowMask:!0,autoHide:!1,buttons:[{className:"cancel",label:"取消",callback:function(e){t&&"function"==typeof t&&t(!1,e.querySelector("input[type='text']").value,e)}},{className:"ok",label:"确认",callback:function(e){t&&"function"==typeof t&&t(!0,e.querySelector("input[type='text']").value,e)}}]};return o&&"object"===(void 0===o?"undefined":n(o))&&(l=Object.assign(l,o)),i(l)},close:function(e){r(e)}}),{install:function(t,o){o&&(l=Object.assign(l,o)),e=t.extend(s.default),t.prototype.$message=u}}}()},function(e,t,o){"use strict";function n(e){u||o(2)}Object.defineProperty(t,"__esModule",{value:!0});var l=o(4),s=o.n(l),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"dialog",staticClass:"message fade",class:{mask:e.isShowMask,"message-show":e.show},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.messageFadeClick(t)}}},[o("div",{staticClass:"message-dialog",class:e.className},[o("div",{staticClass:"message-content",style:{height:e.height||"inherit"},on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},[e.title?o("div",{staticClass:"message-header"},[o("h4",{staticClass:"message-title",domProps:{innerHTML:e._s(e.title)}})]):e._e(),e._v(" "),e.contents?o("div",{ref:"body",staticClass:"message-body"},[o("div",{staticClass:"message-body-content",domProps:{innerHTML:e._s(e.dynamicContents)}})]):e._e(),e._v(" "),e.buttons.length>0?o("div",{staticClass:"message-footer"},e._l(e.buttons,function(t,n){return o("div",{key:n,staticClass:"message-button",class:t.className,domProps:{innerHTML:e._s(t.label)},on:{click:function(o){o.stopPropagation(),o.preventDefault(),e.buttonClick(n,t)}}},[e._v(e._s(t.label))])})):e._e()])])])},a=[];r._withStripped=!0;var i={render:r,staticRenderFns:a},c=i,u=!1,f=o(3),d=n,p=f(s.a,c,!1,d,null,null);p.options.__file="src\\message.vue",p.esModule&&Object.keys(p.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files.");t.default=p.exports},function(e,t){},function(e,t){e.exports=function(e,t,o,n,l,s){var r,a=e=e||{},i=typeof e.default;"object"!==i&&"function"!==i||(r=e,a=e.default);var c="function"==typeof a?a.options:a;t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),o&&(c.functional=!0),l&&(c._scopeId=l);var u;if(s?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=u):n&&(u=n),u){var f=c.functional,d=f?c.render:c.beforeCreate;f?(c._injectStyles=u,c.render=function(e,t){return u.call(t),d(e,t)}):c.beforeCreate=d?[].concat(d,u):[u]}return{esModule:r,exports:a,options:c}}},function(e,t,o){"use strict";e.exports={data:function(){return{initCallback:null,show:!1,isShowMask:!1,icon:"",autoHide:!0,className:null,contents:null,title:null,height:null,buttons:[],onClose:null,scrollerData:{startPageY:0,startMaxScroll:0,elScroll:null,selectorScrollable:null}}},computed:{dynamicContents:function(){return this.icon?'<i class="'+this.icon+'"></i>'+this.contents:this.contents}},watch:{show:function(e){!0===e?document.querySelector("html").classList.add("noscroll"):document.querySelector("html").classList.remove("noscroll")}},mounted:function(){},methods:{init:function(){var e=this;this.show=!0,this.$nextTick(function(){e.initCallback&&"function"==typeof e.initCallback&&e.initCallback(e.$refs.body),e.scrollerData&&(e.$refs.dialog.addEventListener("touchstart",e.noScroll),e.$refs.dialog.addEventListener("touchmove",e.noScroll),e.$refs.dialog.addEventListener("touchend",e.noScroll),1!=e.scrollerData&&(e.scrollerData.selectorScrollable&&(e.scrollerData.selectorScrollable=e.$refs.dialog.querySelector(e.scrollerData.selectorScrollable)),e.scrollerData.selectorScrollable&&0!=e.scrollerData.selectorScrollable.length||(e.scrollerData.selectorScrollable=e.$refs.body)))})},reset:function(){this.show&&this.destroyEvent()},noScroll:function(e){if(1==this.scrollerData)return void("touchmove"===e.type&&(e.preventDefault(),e.stopPropagation()));var t=e.touches[0]||e;if("touchstart"===e.type){var o=e.target,n=null;if(o!==this.scrollerData.selectorScrollable&&!function e(t,o,n){return"BODY"!==t.nodeName&&t!==n&&(t===o||e(t.parentNode,o,n))}(e.target,this.scrollerData.selectorScrollable,this.$refs.dialog))return;n=this.scrollerData.selectorScrollable,this.scrollerData.elScroll=n,this.scrollerData.startPageY=t.pageY,this.scrollerData.startMaxScroll=n.scrollHeight-n.clientHeight}else if("touchmove"===e.type){this.scrollerData.startMaxScroll<=0&&e.preventDefault();var l=this.scrollerData.elScroll;if(!l)return void console.info(l);var s=t.pageY-this.scrollerData.startPageY,r=l.scrollTop;if(s>0&&0==r)return void e.preventDefault();if(s<0&&r+1>=this.scrollerData.startMaxScroll)return void e.preventDefault()}else"touchend"==e.type&&(this.scrollerData.startMaxScroll=0)},buttonClick:function(e,t){t.callback&&"function"==typeof t.callback&&this.onClose(t.callback,this.$refs.body)},messageFadeClick:function(){!0===this.autoHide&&(this.autoHide=!1,this.onClose&&"function"==typeof this.onClose&&this.onClose())},destroyEvent:function(){this.scrollerData&&this.scrollerData.selectorScrollable&&(this.scrollerData.selectorScrollable.removeEventListener("touchstart",this.noScroll),this.scrollerData.selectorScrollable.removeEventListener("touchmove",this.noScroll),this.scrollerData.selectorScrollable.removeEventListener("touchend",this.noScroll)),this.scrollerData={startPageY:0,startMaxScroll:0,elScroll:null,selectorScrollable:null}},destroy:function(){this.initCallback=null,this.show=!1,this.isShowMask=!1,this.icon="",this.autoHide=!0,this.className=null,this.contents=null,this.title=null,this.height=null,this.buttons=[],this.destroyEvent()}},beforeDestroy:function(){this.destroy()}}}])});